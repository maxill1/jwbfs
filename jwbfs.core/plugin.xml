<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.6"?>
<plugin>

   <extension
         id="application"
         point="org.eclipse.core.runtime.applications">
      <application>
         <run
               class="jwbfs.core.Application">
         </run>
      </application>
   </extension>
   <extension
         point="org.eclipse.ui.perspectives">
      <perspective
            name="%perspective.name"
            class="jwbfs.core.Perspective"
            id="jwbfs.core.perspective">
      </perspective>
   </extension>
   <extension
         id="product"
         point="org.eclipse.core.runtime.products">
      <product
            application="jwbfs.core.application"
            name="%product.name">
         <property
               name="appName"
               value="JWBFS">
         </property>
         <property
               name="startupForegroundColor"
               value="000000">
         </property>
         <property
               name="startupMessageRect"
               value="7,252,445,20">
         </property>
         <property
               name="startupProgressRect"
               value="5,275,445,15">
         </property>
         <property
               name="preferenceCustomization"
               value="plugin_customization.ini">
         </property>
      </product>
   </extension>
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            allPopups="false"
            locationURI="menu:org.eclipse.ui.main.menu">
         <menu
               id="fileMenu"
               label="%menu.label">
            <command
                  commandId="it.jwbfs.core.exit"
                  label="%command.label"
                  style="push">
            </command>
         </menu>
         <menu
               label="%menu.label.0">
            <command
                  commandId="it.jwbfs.core.refreshAllDisks"
                  label="%command.label.0"
                  style="push">
            </command>
            <menu
                  label="%menu.label.1">
                              <command
                  commandId="it.jwbfs.core.changeDisksPerspective"
                  label="%command.label.1"
                  style="push">
                  <parameter 
               		name="numDisks" 
               		value="1"> 
         		  </parameter> 
            </command>
             <command
                  commandId="it.jwbfs.core.changeDisksPerspective"
                  label="%command.label.2"
                  style="push">
                  <parameter 
               		name="numDisks" 
               		value="2"> 
         		  </parameter> 
            </command> 
            <command
                  commandId="it.jwbfs.core.changeDisksPerspective"
                  label="%command.label.3"
                  style="push">
                  <parameter 
               		name="numDisks" 
               		value="3"> 
         		  </parameter> 
            </command>
            <command
                  commandId="it.jwbfs.core.changeDisksPerspective"
                  label="%command.label.4"
                  style="push">
                  <parameter 
               		name="numDisks" 
               		value="4"> 
         		  </parameter> 
            </command>
            <command
                  commandId="it.jwbfs.core.changeDisksPerspective"
                  label="%command.label.5"
                  style="push">
                  <parameter 
               		name="numDisks" 
               		value="5"> 
         		  </parameter> 
            </command>
            <command
                  commandId="it.jwbfs.core.changeDisksPerspective"
                  label="%command.label.6"
                  style="push">
                  <parameter 
               		name="numDisks" 
               		value="6"> 
         		  </parameter> 
            </command>
            </menu>                                                                    
         </menu>
         <menu
               label="%menu.label.2">
            <command
                  commandId="it.jwbfs.core.updateGameList"
                  label="%command.label.7"
                  style="push">
                  <parameter 
               		name="diskID" 
               		value="activeDiskID"> 
         		  </parameter>                   
            </command>
            <command
                  commandId="it.jwbfs.core.updateTitles"
                  label="%command.label.8"
                  style="push">
            </command>
            <menu
                  label="%menu.label.3">
<!--DISK1-->
               <command
                     commandId="it.jwbfs.core.copyGames"
                     label="%command.label.9"
                     style="push">
                  <parameter
                        name="diskFrom"
                        value="activeID">
                  </parameter>
                  <parameter
                        name="diskTo"
                        value="it.jwbfs.ui.DiskView1">
                  </parameter>
                  <visibleWhen>
   						<with variable="activeContexts">
             					<iterate operator="or">
             					<or>
             					 	<equals value="jwbfs.context.disk.2"/>
             					 	<equals value="jwbfs.context.disk.3"/>
             					 	<equals value="jwbfs.context.disk.4"/>
             					 	<equals value="jwbfs.context.disk.5"/>
             					 	<equals value="jwbfs.context.disk.6"/>
                			    </or>
           						</iterate>      	           						      					           							          						
           				</with>
				</visibleWhen>
               </command>                  
<!--DISK2-->
               <command
                     commandId="it.jwbfs.core.copyGames"
                     label="%command.label.10"
                     style="push">
                  <parameter
                        name="diskFrom"
                        value="activeID">
                  </parameter>
                  <parameter
                        name="diskTo"
                        value="it.jwbfs.ui.DiskView2">
                  </parameter>
                  <visibleWhen>
   						<with variable="activeContexts">
             					<iterate operator="or">
             					<or>
             					 	<equals value="jwbfs.context.disk.2"/>
             					 	<equals value="jwbfs.context.disk.3"/>
             					 	<equals value="jwbfs.context.disk.4"/>
             					 	<equals value="jwbfs.context.disk.5"/>
             					 	<equals value="jwbfs.context.disk.6"/>
                			    </or>
           						</iterate>      	           						      					           							          						
           				</with>
				</visibleWhen>
               </command>
<!--DISK3-->
               <command
                     commandId="it.jwbfs.core.copyGames"
                     label="%command.label.11"
                     style="push">
                  <parameter
                        name="diskFrom"
                        value="activeID">
                  </parameter>
                  <parameter
                        name="diskTo"
                        value="it.jwbfs.ui.DiskView3">
                  </parameter>
                  <visibleWhen>
   						<with variable="activeContexts">
             					<iterate operator="or">
             					<or>
             					 	<equals value="jwbfs.context.disk.3"/>
             					 	<equals value="jwbfs.context.disk.4"/>
             					 	<equals value="jwbfs.context.disk.5"/>
             					 	<equals value="jwbfs.context.disk.6"/>
                			    </or>
           						</iterate>      	           						      					           							          						
           				</with>
				</visibleWhen>
               </command>







<!--DISK4-->
               <command
                     commandId="it.jwbfs.core.copyGames"
                     label="%command.label.12"
                     style="push">
                  <parameter
                        name="diskFrom"
                        value="activeID">
                  </parameter>
                  <parameter
                        name="diskTo"
                        value="it.jwbfs.ui.DiskView4">
                  </parameter>
                  <visibleWhen>
   						<with variable="activeContexts">
             					<iterate operator="or">
             					<or>
             					 	<equals value="jwbfs.context.disk.4"/>
             					 	<equals value="jwbfs.context.disk.5"/>
             					 	<equals value="jwbfs.context.disk.6"/>
                			    </or>
           						</iterate>      	           						      					           							          						
           				</with>
				</visibleWhen>
               </command>                  
<!--DISK5-->
               <command
                     commandId="it.jwbfs.core.copyGames"
                     label="%command.label.13"
                     style="push">
                  <parameter
                        name="diskFrom"
                        value="activeID">
                  </parameter>
                  <parameter
                        name="diskTo"
                        value="it.jwbfs.ui.DiskView2">
                  </parameter>
                  <visibleWhen>
   						<with variable="activeContexts">
             					<iterate operator="or">
             					<or>
             					 	<equals value="jwbfs.context.disk.5"/>
             					 	<equals value="jwbfs.context.disk.6"/>
                			    </or>
           						</iterate>      	           						      					           							          						
           				</with>
				</visibleWhen>
               </command>
<!--DISK6-->
               <command
                     commandId="it.jwbfs.core.copyGames"
                     label="%command.label.14"
                     style="push">
                  <parameter
                        name="diskFrom"
                        value="activeID">
                  </parameter>
                  <parameter
                        name="diskTo"
                        value="it.jwbfs.ui.DiskView6">
                  </parameter>
                  <visibleWhen>
   						<with variable="activeContexts">
             					<iterate operator="or">
             					<or>
             					 	<equals value="jwbfs.context.disk.6"/>
                			    </or>
           						</iterate>      	           						      					           							          						
           				</with>
				</visibleWhen>
               </command>


<!-- menu generic visible when: if only 1 disk no copy commands-->               
               <visibleWhen>
               		<not>
   						<with variable="activeContexts">
             					<iterate operator="or">
             					 	<equals value="jwbfs.context.disk.1"/>
           						</iterate>      	           						      					           							          						
           				</with>
           			</not>
				</visibleWhen>
            </menu>
         </menu>
         
         <menu
               label="%menu.label.4">
            <command
                  commandId="it.jwbfs.core.updateCoverForced"
                  label="%command.label.15"
                  style="push">
            </command>
         </menu>
      </menuContribution>
   </extension>
   <extension
         point="org.eclipse.ui.contexts">
      <context
            id="jwbfs.context.disk.1"
            name="%context.name">
      </context>
      <context
            id="jwbfs.context.disk.2"
            name="%context.name.0">
      </context>
      <context
            id="jwbfs.context.disk.3"
            name="%context.name.1">
      </context>
      <context
            id="jwbfs.context.disk.4"
            name="%context.name.2">
      </context>
      <context
            id="jwbfs.context.disk.5"
            name="%context.name.3">
      </context>   
      <context
            id="jwbfs.context.disk.6"
            name="%context.name.4">
      </context>                           
   </extension>
   
   <!--extension point="org.eclipse.ui.splashHandlers">
      <splashHandler
            class="jwbfs.core.splash.SplashHandler"
            id="jwbfs.core.splash.splashHandler">
      </splashHandler>
      <splashHandlerProductBinding
            productId="jwbfs.products"
            splashId="jwbfs.core.splash.splashHandler">
      </splashHandlerProductBinding>
   </extension-->

</plugin>
