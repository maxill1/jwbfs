<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.6"?>
<plugin>

   <extension
         id="application"
         point="org.eclipse.core.runtime.applications">
      <application>
         <run
               class="jwbfs.core.Application">
         </run>
      </application>
   </extension>
   <extension
         point="org.eclipse.ui.perspectives">
      <perspective
            name="RCP Perspective"
            class="jwbfs.core.Perspective"
            id="jwbfs.core.perspective">
      </perspective>
   </extension>
   <extension
         id="product"
         point="org.eclipse.core.runtime.products">
      <product
            application="jwbfs.core.application"
            name="JWBFS">
         <property
               name="appName"
               value="JWBFS">
         </property>
         <property
               name="startupForegroundColor"
               value="000000">
         </property>
         <property
               name="startupMessageRect"
               value="7,252,445,20">
         </property>
         <property
               name="startupProgressRect"
               value="5,275,445,15">
         </property>
         <property
               name="preferenceCustomization"
               value="plugin_customization.ini">
         </property>
      </product>
   </extension>
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            allPopups="false"
            locationURI="menu:org.eclipse.ui.main.menu">
         <menu
               id="fileMenu"
               label="File">
            <command
                  commandId="it.jwbfs.core.exit"
                  label="Exit"
                  style="push">
            </command>
         </menu>
         <menu
               label="Disks">
            <command
                  commandId="it.jwbfs.core.refreshAllDisks"
                  label="Refresh All Disks"
                  style="push">
            </command>
            <menu
                  label="Disks views">
                              <command
                  commandId="it.jwbfs.core.changeDisksPerspective"
                  label="One Disk"
                  style="push">
                  <parameter 
               		name="numDisks" 
               		value="1"> 
         		  </parameter> 
            </command>
             <command
                  commandId="it.jwbfs.core.changeDisksPerspective"
                  label="Two Disks"
                  style="push">
                  <parameter 
               		name="numDisks" 
               		value="2"> 
         		  </parameter> 
            </command> 
            <command
                  commandId="it.jwbfs.core.changeDisksPerspective"
                  label="Three Disks"
                  style="push">
                  <parameter 
               		name="numDisks" 
               		value="3"> 
         		  </parameter> 
            </command>
            <command
                  commandId="it.jwbfs.core.changeDisksPerspective"
                  label="Four Disks"
                  style="push">
                  <parameter 
               		name="numDisks" 
               		value="4"> 
         		  </parameter> 
            </command>
            <command
                  commandId="it.jwbfs.core.changeDisksPerspective"
                  label="Five Disks"
                  style="push">
                  <parameter 
               		name="numDisks" 
               		value="5"> 
         		  </parameter> 
            </command>
            <command
                  commandId="it.jwbfs.core.changeDisksPerspective"
                  label="Six Disks"
                  style="push">
                  <parameter 
               		name="numDisks" 
               		value="6"> 
         		  </parameter> 
            </command>
            </menu>                                                                    
         </menu>
         <menu
               label="Games">
            <command
                  commandId="it.jwbfs.core.updateGameList"
                  label="Update Games List"
                  style="push">
                  <parameter 
               		name="diskID" 
               		value="activeDiskID"> 
         		  </parameter>                   
            </command>
            <command
                  commandId="it.jwbfs.core.updateTitles"
                  label="Update Titles DB"
                  style="push">
            </command>
            <menu
                  label="Copy Selected">
<!--DISK1-->
               <command
                     commandId="it.jwbfs.core.copyGames"
                     label="To Disk 1"
                     style="push">
                  <parameter
                        name="diskFrom"
                        value="activeID">
                  </parameter>
                  <parameter
                        name="diskTo"
                        value="it.jwbfs.ui.DiskView1">
                  </parameter>
                  <visibleWhen>
   						<with variable="activeContexts">
             					<iterate operator="or">
             					<or>
             					 	<equals value="jwbfs.context.disk.2"/>
             					 	<equals value="jwbfs.context.disk.3"/>
             					 	<equals value="jwbfs.context.disk.4"/>
             					 	<equals value="jwbfs.context.disk.5"/>
             					 	<equals value="jwbfs.context.disk.6"/>
                			    </or>
           						</iterate>      	           						      					           							          						
           				</with>
				</visibleWhen>
               </command>                  
<!--DISK2-->
               <command
                     commandId="it.jwbfs.core.copyGames"
                     label="To Disk 2"
                     style="push">
                  <parameter
                        name="diskFrom"
                        value="activeID">
                  </parameter>
                  <parameter
                        name="diskTo"
                        value="it.jwbfs.ui.DiskView2">
                  </parameter>
                  <visibleWhen>
   						<with variable="activeContexts">
             					<iterate operator="or">
             					<or>
             					 	<equals value="jwbfs.context.disk.2"/>
             					 	<equals value="jwbfs.context.disk.3"/>
             					 	<equals value="jwbfs.context.disk.4"/>
             					 	<equals value="jwbfs.context.disk.5"/>
             					 	<equals value="jwbfs.context.disk.6"/>
                			    </or>
           						</iterate>      	           						      					           							          						
           				</with>
				</visibleWhen>
               </command>
<!--DISK3-->
               <command
                     commandId="it.jwbfs.core.copyGames"
                     label="To Disk 3"
                     style="push">
                  <parameter
                        name="diskFrom"
                        value="activeID">
                  </parameter>
                  <parameter
                        name="diskTo"
                        value="it.jwbfs.ui.DiskView3">
                  </parameter>
                  <visibleWhen>
   						<with variable="activeContexts">
             					<iterate operator="or">
             					<or>
             					 	<equals value="jwbfs.context.disk.3"/>
             					 	<equals value="jwbfs.context.disk.4"/>
             					 	<equals value="jwbfs.context.disk.5"/>
             					 	<equals value="jwbfs.context.disk.6"/>
                			    </or>
           						</iterate>      	           						      					           							          						
           				</with>
				</visibleWhen>
               </command>







<!--DISK4-->
               <command
                     commandId="it.jwbfs.core.copyGames"
                     label="To Disk 4"
                     style="push">
                  <parameter
                        name="diskFrom"
                        value="activeID">
                  </parameter>
                  <parameter
                        name="diskTo"
                        value="it.jwbfs.ui.DiskView4">
                  </parameter>
                  <visibleWhen>
   						<with variable="activeContexts">
             					<iterate operator="or">
             					<or>
             					 	<equals value="jwbfs.context.disk.4"/>
             					 	<equals value="jwbfs.context.disk.5"/>
             					 	<equals value="jwbfs.context.disk.6"/>
                			    </or>
           						</iterate>      	           						      					           							          						
           				</with>
				</visibleWhen>
               </command>                  
<!--DISK5-->
               <command
                     commandId="it.jwbfs.core.copyGames"
                     label="To Disk 5"
                     style="push">
                  <parameter
                        name="diskFrom"
                        value="activeID">
                  </parameter>
                  <parameter
                        name="diskTo"
                        value="it.jwbfs.ui.DiskView2">
                  </parameter>
                  <visibleWhen>
   						<with variable="activeContexts">
             					<iterate operator="or">
             					<or>
             					 	<equals value="jwbfs.context.disk.5"/>
             					 	<equals value="jwbfs.context.disk.6"/>
                			    </or>
           						</iterate>      	           						      					           							          						
           				</with>
				</visibleWhen>
               </command>
<!--DISK6-->
               <command
                     commandId="it.jwbfs.core.copyGames"
                     label="To Disk 6"
                     style="push">
                  <parameter
                        name="diskFrom"
                        value="activeID">
                  </parameter>
                  <parameter
                        name="diskTo"
                        value="it.jwbfs.ui.DiskView6">
                  </parameter>
                  <visibleWhen>
   						<with variable="activeContexts">
             					<iterate operator="or">
             					<or>
             					 	<equals value="jwbfs.context.disk.6"/>
                			    </or>
           						</iterate>      	           						      					           							          						
           				</with>
				</visibleWhen>
               </command>


<!-- menu generic visible when: if only 1 disk no copy commands-->               
               <visibleWhen>
               		<not>
   						<with variable="activeContexts">
             					<iterate operator="or">
             					 	<equals value="jwbfs.context.disk.1"/>
           						</iterate>      	           						      					           							          						
           				</with>
           			</not>
				</visibleWhen>
            </menu>
         </menu>
         
         <menu
               label="Covers">
            <command
                  commandId="it.jwbfs.core.updateCoverForced"
                  label="Update Selected Cover"
                  style="push">
            </command>
         </menu>
      </menuContribution>
   </extension>
   <extension
         point="org.eclipse.ui.contexts">
      <context
            id="jwbfs.context.disk.1"
            name="1 disk">
      </context>
      <context
            id="jwbfs.context.disk.2"
            name="2 disk">
      </context>
      <context
            id="jwbfs.context.disk.3"
            name="3 disk">
      </context>
      <context
            id="jwbfs.context.disk.4"
            name="4 disk">
      </context>
      <context
            id="jwbfs.context.disk.5"
            name="5 disk">
      </context>   
      <context
            id="jwbfs.context.disk.6"
            name="6 disk">
      </context>                           
   </extension>
   
   <!--extension point="org.eclipse.ui.splashHandlers">
      <splashHandler
            class="jwbfs.core.splash.SplashHandler"
            id="jwbfs.core.splash.splashHandler">
      </splashHandler>
      <splashHandlerProductBinding
            productId="jwbfs.products"
            splashId="jwbfs.core.splash.splashHandler">
      </splashHandlerProductBinding>
   </extension-->

</plugin>
